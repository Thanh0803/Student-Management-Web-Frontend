{"remainingRequest":"/home/thanh/DOAN/vue-admin-frontend/node_modules/babel-loader/lib/index.js!/home/thanh/DOAN/vue-admin-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/thanh/DOAN/vue-admin-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/thanh/DOAN/vue-admin-frontend/src/views/Pages/Student/ChangePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/thanh/DOAN/vue-admin-frontend/src/views/Pages/Student/ChangePassword.vue","mtime":1642738557708},{"path":"/home/thanh/DOAN/vue-admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1638461276469},{"path":"/home/thanh/DOAN/vue-admin-frontend/node_modules/babel-loader/lib/index.js","mtime":1638461225625},{"path":"/home/thanh/DOAN/vue-admin-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1638461276469},{"path":"/home/thanh/DOAN/vue-admin-frontend/node_modules/vue-loader/lib/index.js","mtime":1638461277198}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { get, put, del, post } from \"../../../services/services\";\nexport default {\n  data: function data() {\n    return {\n      current_pw: \"\",\n      model: {\n        current_password: \"\",\n        confirmpassword: \"\",\n        password: \"\" // rememberMe: false\n\n      } //   selected: \"\",\n\n    };\n  },\n  methods: {\n    onSubmit: function onSubmit() {\n      var _this = this;\n\n      var url = \"http://localhost:8000/api/student/detail/\" + this.$store.getters.user.id;\n      get(url).then(function (res) {\n        _this.current_pw = res.data.data;\n        console.log(\"XXX\", _this.current_pw.password);\n      });\n      var confirmpassword = this.model.confirmpassword;\n      var password = this.model.password;\n      var current_password = this.model.current_password;\n\n      if (current_password == \"student\") {\n        if (confirmpassword == password) {\n          var _url = \"http://localhost:8000/api/student/update/password/\" + this.$store.getters.user.id;\n\n          var payload = {\n            password: password\n          };\n          put(_url, payload).then(function (res) {\n            _this.showNotification(\"success\", \"Update Successfully\");\n\n            _this.$router.push(\"/teacher\");\n          }).catch(function (err) {\n            _this.showNotification(\"danger\", err);\n          });\n        } else {\n          this.showNotification(\"danger\", \"Confirm Password not match, Please type again\");\n          this.model.confirmpassword = \"\";\n          this.model.password = \"\";\n          this.model.current_password = \"\";\n        }\n      } else {\n        this.showNotification(\"danger\", \"Current Password not correct, Please type again\");\n        this.model.confirmpassword = \"\";\n        this.model.password = \"\";\n        this.model.current_password = \"\";\n      }\n    },\n    showNotification: function showNotification(type, message) {\n      this.$notify({\n        message: message,\n        icon: \"add_alert\",\n        horizontalAlign: \"right\",\n        verticalAlign: \"top\",\n        type: type\n      });\n    }\n  }\n};",{"version":3,"sources":["ChangePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA,SAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,IAAA;AACA,eAAA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA;AACA,QAAA,gBAAA,EAAA,EADA;AAEA,QAAA,eAAA,EAAA,EAFA;AAGA,QAAA,QAAA,EAAA,EAHA,CAIA;;AAJA,OAFA,CAQA;;AARA,KAAA;AAUA,GAbA;AAcA,EAAA,OAAA,EAAA;AAEA,IAAA,QAFA,sBAEA;AAAA;;AACA,UAAA,GAAA,GAAA,8CAAA,KAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,EAAA;AACA,MAAA,GAAA,CAAA,GAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,EAAA,KAAA,CAAA,UAAA,CAAA,QAAA;AACA,OAJA;AAKA,UAAA,eAAA,GAAA,KAAA,KAAA,CAAA,eAAA;AACA,UAAA,QAAA,GAAA,KAAA,KAAA,CAAA,QAAA;AACA,UAAA,gBAAA,GAAA,KAAA,KAAA,CAAA,gBAAA;;AAEA,UAAA,gBAAA,IAAA,SAAA,EACA;AACA,YAAA,eAAA,IAAA,QAAA,EAAA;AACA,cAAA,IAAA,GACA,uDAAA,KAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,EADA;;AAEA,cAAA,OAAA,GAAA;AACA,YAAA,QAAA,EAAA;AADA,WAAA;AAGA,UAAA,GAAA,CAAA,IAAA,EAAA,OAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA,EAAA;AAEA,YAAA,KAAA,CAAA,gBAAA,CAAA,SAAA,EAAA,qBAAA;;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,UAAA;AAEA,WANA,EAOA,KAPA,CAOA,UAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,GAAA;AACA,WATA;AAUA,SAhBA,MAgBA;AACA,eAAA,gBAAA,CACA,QADA,EAEA,+CAFA;AAIA,eAAA,KAAA,CAAA,eAAA,GAAA,EAAA;AACA,eAAA,KAAA,CAAA,QAAA,GAAA,EAAA;AACA,eAAA,KAAA,CAAA,gBAAA,GAAA,EAAA;AACA;AACA,OA3BA,MA2BA;AACA,aAAA,gBAAA,CACA,QADA,EAEA,iDAFA;AAIA,aAAA,KAAA,CAAA,eAAA,GAAA,EAAA;AACA,aAAA,KAAA,CAAA,QAAA,GAAA,EAAA;AACA,aAAA,KAAA,CAAA,gBAAA,GAAA,EAAA;AACA;AAEA,KAlDA;AAmDA,IAAA,gBAnDA,4BAmDA,IAnDA,EAmDA,OAnDA,EAmDA;AACA,WAAA,OAAA,CAAA;AACA,QAAA,OAAA,EAAA,OADA;AAEA,QAAA,IAAA,EAAA,WAFA;AAGA,QAAA,eAAA,EAAA,OAHA;AAIA,QAAA,aAAA,EAAA,KAJA;AAKA,QAAA,IAAA,EAAA;AALA,OAAA;AAOA;AA3DA;AAdA,CAAA","sourcesContent":["<template>\n  <div>\n    <!-- Header -->\n    <notifications></notifications>\n    <div class=\"header bg-gradient-success py-7 py-lg-8 pt-lg-9\">\n      <b-container>\n        <div class=\"header-body text-center mb-7\">\n          <b-row class=\"justify-content-center\"> </b-row>\n        </div>\n      </b-container>\n      <div class=\"separator separator-bottom separator-skew zindex-100\">\n        <svg\n          x=\"0\"\n          y=\"0\"\n          viewBox=\"0 0 2560 100\"\n          preserveAspectRatio=\"none\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <polygon\n            class=\"fill-default\"\n            points=\"2560 0 2560 100 0 100\"\n          ></polygon>\n        </svg>\n      </div>\n    </div>\n    <!-- Page content -->\n    <b-container class=\"mt--8 pb-5 background\" ref=\"form\">\n      <b-row class=\"justify-content-center\">\n        <b-col lg=\"5\" md=\"7\">\n          <b-card no-body class=\"bg-secondary border-0 mb-0\">\n            <b-card-body class=\"px-lg-5 py-lg-5\">\n              <div class=\"text-center text-muted mb-4\">\n                <small>Change Password</small>\n              </div>\n              <validation-observer\n                v-slot=\"{ handleSubmit }\"\n                ref=\"formValidator\"\n              >\n                <b-form role=\"form\" @submit.prevent=\"handleSubmit(onSubmit)\">\n                  <base-input\n                    alternative\n                    class=\"mb-3\"\n                    name=\"Password\"\n                    :rules=\"{ required: true, min: 3 }\"\n                    prepend-icon=\"ni ni-lock-circle-open\"\n                    type=\"password\"\n                    placeholder=\"Current Password\"\n                    v-model=\"model.current_password\"\n                  >\n                  </base-input>\n\n                  <base-input\n                    alternative\n                    class=\"mb-3\"\n                    name=\"Password\"\n                    :rules=\"{ required: true, min: 3 }\"\n                    prepend-icon=\"ni ni-lock-circle-open\"\n                    type=\"password\"\n                    placeholder=\"New Password\"\n                    v-model=\"model.password\"\n                  >\n                  </base-input>\n                  <base-input\n                    alternative\n                    class=\"mb-3\"\n                    name=\"Password\"\n                    :rules=\"{ required: true, min: 3 }\"\n                    prepend-icon=\"ni ni-lock-circle-open\"\n                    type=\"password\"\n                    placeholder=\"Confirm Password\"\n                    v-model=\"model.confirmpassword\"\n                  >\n                  </base-input>\n\n                  <!-- <b-form-checkbox v-model=\"model.rememberMe\">Remember me</b-form-checkbox> -->\n                  <div class=\"text-center\">\n                    <base-button\n                      type=\"primary\"\n                      native-type=\"submit\"\n                      class=\"my-4\"\n                      >Update</base-button\n                    >\n                  </div>\n                </b-form>\n              </validation-observer>\n            </b-card-body>\n          </b-card>\n        </b-col>\n      </b-row>\n    </b-container>\n  </div>\n</template>\n<script>\nimport { get, put, del, post } from \"../../../services/services\";\nexport default {\n    \n  data() {\n    return {\n        current_pw: \"\",\n        model: {\n            current_password: \"\",\n            confirmpassword: \"\",\n            password: \"\",\n            // rememberMe: false\n        },\n      //   selected: \"\",\n    };\n  },\n  methods: {\n\n    onSubmit() {\n      let url = \"http://localhost:8000/api/student/detail/\" + this.$store.getters.user.id;\n         get(url)\n        .then((res) => {\n            this.current_pw = res.data.data;\n            console.log(\"XXX\", this.current_pw.password)\n        })\n      let confirmpassword = this.model.confirmpassword;\n      let password = this.model.password;\n      let current_password = this.model.current_password;\n      \n      if(current_password == \"student\")\n      {\n          if (confirmpassword == password) {\n        let url =\n          \"http://localhost:8000/api/student/update/password/\" + this.$store.getters.user.id;\n        let payload = {\n            password : password\n        };\n        put(url, payload)\n          .then((res) => {\n        \n            this.showNotification(\"success\", \"Update Successfully\");\n            this.$router.push(\"/teacher\");\n    \n          })\n          .catch((err) => {\n            this.showNotification(\"danger\", err);\n          });\n      } else {\n        this.showNotification(\n          \"danger\",\n          \"Confirm Password not match, Please type again\"\n        );\n        this.model.confirmpassword = \"\"\n        this.model.password = \"\"\n        this.model.current_password = \"\"\n      }\n      }else {\n        this.showNotification(\n          \"danger\",\n          \"Current Password not correct, Please type again\"\n        );\n        this.model.confirmpassword = \"\"\n        this.model.password = \"\"\n        this.model.current_password = \"\"\n      }\n      \n    },\n    showNotification(type, message) {\n      this.$notify({\n        message: message,\n        icon: \"add_alert\",\n        horizontalAlign: \"right\",\n        verticalAlign: \"top\",\n        type: type,\n      });\n    },\n  },\n};\n</script>\n<style>\n.background {\n  background-color: #172b4d;\n}\n</style>\n"],"sourceRoot":"src/views/Pages/Student"}]}